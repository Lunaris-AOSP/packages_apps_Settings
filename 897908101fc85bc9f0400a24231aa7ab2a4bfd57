{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9e7b7a6b_c87c6b40",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 4550
      },
      "writtenOn": "2025-05-22T14:03:32Z",
      "side": 1,
      "message": "Bump",
      "revId": "897908101fc85bc9f0400a24231aa7ab2a4bfd57",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "06444042_05ed5c94",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 11883
      },
      "writtenOn": "2025-05-22T14:37:49Z",
      "side": 1,
      "message": "https://gist.github.com/luca020400/f8f9705bee883515ae4139663318eb9a\nfor reference what I think should be done instead...",
      "revId": "897908101fc85bc9f0400a24231aa7ab2a4bfd57",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3556bf1d_9481ddc1",
        "filename": "src/com/android/settings/datausage/DataSaverBackend.java",
        "patchSetId": 1
      },
      "lineNbr": 123,
      "author": {
        "id": 11883
      },
      "writtenOn": "2025-05-22T14:28:29Z",
      "side": 1,
      "message": "```suggestion\n        if (denylisted) {\n            mPolicyManager.addUidPolicy(uid, POLICY_REJECT_METERED_BACKGROUND); \n            setCachedUidPolicyFlag(uid, POLICY_REJECT_METERED_BACKGROUND, true);\n            mMetricsFeatureProvider.action(\n                    mContext, SettingsEnums.ACTION_DATA_SAVER_BLACKLIST, packageName);\n        } else {\n            mPolicyManager.removeUidPolicy(uid, POLICY_REJECT_METERED_BACKGROUND);\n            setCachedUidPolicyFlag(uid, POLICY_REJECT_METERED_BACKGROUND, false);\n        }\n        mPolicyManager.removeUidPolicy(uid, POLICY_ALLOW_METERED_BACKGROUND);\n        setCachedUidPolicyFlag(uid, POLICY_ALLOW_METERED_BACKGROUND, false);\n    }\n```\n\nsame for denylist, probably fixes the issue",
      "range": {
        "startLine": 114,
        "startChar": 0,
        "endLine": 123,
        "endChar": 0
      },
      "revId": "897908101fc85bc9f0400a24231aa7ab2a4bfd57",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d6b2601_270cc5b1",
        "filename": "src/com/android/settings/datausage/DataSaverBackend.java",
        "patchSetId": 1
      },
      "lineNbr": 171,
      "author": {
        "id": 11883
      },
      "writtenOn": "2025-05-22T14:28:29Z",
      "side": 1,
      "message": "this is called twice for each change...",
      "range": {
        "startLine": 167,
        "startChar": 0,
        "endLine": 171,
        "endChar": 9
      },
      "revId": "897908101fc85bc9f0400a24231aa7ab2a4bfd57",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "466758eb_0c41199d",
        "filename": "src/com/android/settings/datausage/DataSaverBackend.java",
        "patchSetId": 1
      },
      "lineNbr": 172,
      "author": {
        "id": 11883
      },
      "writtenOn": "2025-05-22T14:28:29Z",
      "side": 1,
      "message": "this is called only once when you click deny/allow before removing the correspodning allow/deny flag.\nYou probably only need to call `setCachedUidPolicyFlag` after you change all policies with the correct one",
      "range": {
        "startLine": 172,
        "startChar": 0,
        "endLine": 172,
        "endChar": 53
      },
      "revId": "897908101fc85bc9f0400a24231aa7ab2a4bfd57",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1fbe4a6_311c7b93",
        "filename": "src/com/android/settings/datausage/DataSaverBackend.java",
        "patchSetId": 1
      },
      "lineNbr": 233,
      "author": {
        "id": 11883
      },
      "writtenOn": "2025-05-22T14:06:21Z",
      "side": 1,
      "message": "I\u0027m a bit lost, I can\u0027t find any other flag compared to POLICY_REJECT_METERED_BACKGROUND and POLICY_ALLOW_METERED_BACKGROUND?",
      "range": {
        "startLine": 228,
        "startChar": 0,
        "endLine": 233,
        "endChar": 0
      },
      "revId": "897908101fc85bc9f0400a24231aa7ab2a4bfd57",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5b6f49d_04298b44",
        "filename": "src/com/android/settings/datausage/DataSaverBackend.java",
        "patchSetId": 1
      },
      "lineNbr": 233,
      "author": {
        "id": 11883
      },
      "writtenOn": "2025-05-22T14:07:36Z",
      "side": 1,
      "message": "Clearly says\n`    /* POLICY_* are masks and can be ORed, although currently they are not.*/`\n\nIf comment is wrong then fine, but are the flags supposed to be enabled at the same time? This smells",
      "parentUuid": "d1fbe4a6_311c7b93",
      "range": {
        "startLine": 228,
        "startChar": 0,
        "endLine": 233,
        "endChar": 0
      },
      "revId": "897908101fc85bc9f0400a24231aa7ab2a4bfd57",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "407f5439_9e89147c",
        "filename": "src/com/android/settings/datausage/DataSaverBackend.java",
        "patchSetId": 1
      },
      "lineNbr": 233,
      "author": {
        "id": 11883
      },
      "writtenOn": "2025-05-22T14:28:29Z",
      "side": 1,
      "message": "Also by going following the calls we end up in https://cs.android.com/android/platform/superproject/main/+/main:frameworks/base/services/core/java/com/android/server/net/NetworkPolicyManagerService.java;l\u003d3129?q\u003dremoveUidPolicy\u0026ss\u003dandroid%2Fplatform%2Fsuperproject%2Fmain\nthat had the same problem...",
      "parentUuid": "d5b6f49d_04298b44",
      "range": {
        "startLine": 228,
        "startChar": 0,
        "endLine": 233,
        "endChar": 0
      },
      "revId": "897908101fc85bc9f0400a24231aa7ab2a4bfd57",
      "serverId": "1ec6b3db-b2c1-4fa4-84a2-4c7efe89ba71"
    }
  ],
  "submitRequirementResults": []
}